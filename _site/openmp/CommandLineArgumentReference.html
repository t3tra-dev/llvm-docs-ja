<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>OpenMP Command-Line Argument Reference &#8212; LLVM/OpenMP  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/agogo.css?v=a323ad78" />
    <script src="_static/documentation_options.js?v=7f41d439"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Support, Getting Involved, and FAQ" href="SupportAndFAQ.html" />
    <link rel="prev" title="Redundant barrier eliminated. (device only)" href="remarks/OMP190.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">LLVM/OpenMP  documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="index.html" title="LLVM OpenMP Documentation">HOME</a>
           |
          <a href="remarks/OMP190.html" title="Redundant barrier eliminated. (device only)"
             accesskey="P">previous</a> |
          <a href="SupportAndFAQ.html" title="Support, Getting Involved, and FAQ"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="openmp-command-line-argument-reference">
<h1>OpenMP Command-Line Argument Reference<a class="headerlink" href="#openmp-command-line-argument-reference" title="Link to this heading">¶</a></h1>
<p>Welcome to the OpenMP in LLVM command line argument reference. The content is
not a complete list of arguments but includes the essential command-line
arguments you may need when compiling and linking OpenMP.
Section <a class="reference internal" href="#general-command-line-arguments"><span class="std std-ref">OpenMP Command-Line Arguments</span></a> lists OpenMP command line options
for multicore programming while  <a class="reference internal" href="#offload-command-line-arguments"><span class="std std-ref">Offloading Specific Command-Line Arguments</span></a> lists
options relevant to OpenMP target offloading.</p>
<section id="openmp-command-line-arguments">
<span id="general-command-line-arguments"></span><h2>OpenMP Command-Line Arguments<a class="headerlink" href="#openmp-command-line-arguments" title="Link to this heading">¶</a></h2>
<section id="fopenmp">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp</span></code><a class="headerlink" href="#fopenmp" title="Link to this heading">¶</a></h3>
<p>Enable the OpenMP compilation toolchain. The compiler will parse OpenMP
compiler directives and generate parallel code.</p>
</section>
<section id="fopenmp-extensions">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-extensions</span></code><a class="headerlink" href="#fopenmp-extensions" title="Link to this heading">¶</a></h3>
<p>Enable all <code class="docutils literal notranslate"><span class="pre">Clang</span></code> extensions for OpenMP directives and clauses. A list of
current extensions and their implementation status can be found on the
<a class="reference external" href="https://clang.llvm.org/docs/OpenMPSupport.html#openmp-extensions">support</a>
page.</p>
</section>
<section id="fopenmp-simd">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-simd</span></code><a class="headerlink" href="#fopenmp-simd" title="Link to this heading">¶</a></h3>
<p>This option enables OpenMP only for single instruction, multiple data
(SIMD) constructs.</p>
</section>
<section id="static-openmp">
<h3><code class="docutils literal notranslate"><span class="pre">-static-openmp</span></code><a class="headerlink" href="#static-openmp" title="Link to this heading">¶</a></h3>
<p>Use the static OpenMP host runtime while linking.</p>
</section>
<section id="fopenmp-version-arg">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-version=&lt;arg&gt;</span></code><a class="headerlink" href="#fopenmp-version-arg" title="Link to this heading">¶</a></h3>
<p>Set the OpenMP version to a specific version <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> of the OpenMP standard.
For example, you may use <code class="docutils literal notranslate"><span class="pre">-fopenmp-version=45</span></code> to select version 4.5 of
the OpenMP standard. The default value is <code class="docutils literal notranslate"><span class="pre">-fopenmp-version=51</span></code> for <code class="docutils literal notranslate"><span class="pre">Clang</span></code>.</p>
</section>
</section>
<section id="offloading-specific-command-line-arguments">
<span id="offload-command-line-arguments"></span><h2>Offloading Specific Command-Line Arguments<a class="headerlink" href="#offloading-specific-command-line-arguments" title="Link to this heading">¶</a></h2>
<section id="fopenmp-targets">
<span id="id1"></span><h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-targets</span></code><a class="headerlink" href="#fopenmp-targets" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Specify which OpenMP offloading targets should be supported. For example, you
may specify <code class="docutils literal notranslate"><span class="pre">-fopenmp-targets=amdgcn-amd-amdhsa,nvptx64</span></code>. This option is
often optional when <a class="reference internal" href="#offload-arch"><span class="std std-ref">--offload-arch</span></a> is provided.</div>
<div class="line">It is also possible to offload to CPU architectures, for instance with
<code class="docutils literal notranslate"><span class="pre">-fopenmp-targets=x86_64-pc-linux-gnu</span></code>.</div>
</div>
</section>
<section id="offload-arch">
<span id="id2"></span><h3><code class="docutils literal notranslate"><span class="pre">--offload-arch</span></code><a class="headerlink" href="#offload-arch" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Specify the device architecture for OpenMP offloading. For instance
<code class="docutils literal notranslate"><span class="pre">--offload-arch=sm_80</span></code> to target an Nvidia Tesla A100,
<code class="docutils literal notranslate"><span class="pre">--offload-arch=gfx90a</span></code> to target an AMD Instinct MI250X, or
<code class="docutils literal notranslate"><span class="pre">--offload-arch=sm_80,gfx90a</span></code> to target both.</div>
<div class="line">It is also possible to specify <a class="reference internal" href="#fopenmp-targets"><span class="std std-ref">-fopenmp-targets</span></a> without specifying
<code class="docutils literal notranslate"><span class="pre">--offload-arch</span></code>. In that case, the executables <code class="docutils literal notranslate"><span class="pre">amdgpu-arch</span></code> or
<code class="docutils literal notranslate"><span class="pre">nvptx-arch</span></code> will be executed as part of the compiler driver to
detect the device architecture automatically.</div>
<div class="line">Finally, the device architecture will also be automatically inferred with
<code class="docutils literal notranslate"><span class="pre">--offload-arch=native</span></code>.</div>
</div>
</section>
<section id="offload-device-only">
<h3><code class="docutils literal notranslate"><span class="pre">--offload-device-only</span></code><a class="headerlink" href="#offload-device-only" title="Link to this heading">¶</a></h3>
<p>Compile only the code that goes on the device. This option is mainly for
debugging purposes. It is primarily used for inspecting the intermediate
representation (IR) output when compiling for the device. It may also be used
if device-only runtimes are created.</p>
</section>
<section id="offload-host-only">
<h3><code class="docutils literal notranslate"><span class="pre">--offload-host-only</span></code><a class="headerlink" href="#offload-host-only" title="Link to this heading">¶</a></h3>
<p>Compile only the code that goes on the host. With this option enabled, the
<code class="docutils literal notranslate"><span class="pre">.llvm.offloading</span></code> section with embedded device code will not be included in
the intermediate representation.</p>
</section>
<section id="offload-host-device">
<h3><code class="docutils literal notranslate"><span class="pre">--offload-host-device</span></code><a class="headerlink" href="#offload-host-device" title="Link to this heading">¶</a></h3>
<p>Compile the target regions for both the host and the device. That is the
default option.</p>
</section>
<section id="xopenmp-target-arg">
<h3><code class="docutils literal notranslate"><span class="pre">-Xopenmp-target</span> <span class="pre">&lt;arg&gt;</span></code><a class="headerlink" href="#xopenmp-target-arg" title="Link to this heading">¶</a></h3>
<p>Pass an argument <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> to the offloading toolchain, for instance
<code class="docutils literal notranslate"><span class="pre">-Xopenmp-target</span> <span class="pre">-march=sm_80</span></code>.</p>
</section>
<section id="xopenmp-target-triple-arg">
<h3><code class="docutils literal notranslate"><span class="pre">-Xopenmp-target=&lt;triple&gt;</span> <span class="pre">&lt;arg&gt;</span></code><a class="headerlink" href="#xopenmp-target-triple-arg" title="Link to this heading">¶</a></h3>
<p>Pass an argument <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> to the offloading toolchain for the target
<code class="docutils literal notranslate"><span class="pre">&lt;triple&gt;</span></code>. That is especially  useful when an argument must differ for each
triple. For instance <code class="docutils literal notranslate"><span class="pre">-Xopenmp-target=nvptx64</span> <span class="pre">--offload-arch=sm_80</span>
<span class="pre">-Xopenmp-target=amdgcn</span> <span class="pre">--offload-arch=gfx90a</span></code> to specify the device
architecture.  Alternatively, <a class="reference internal" href="#xarch-host"><span class="std std-ref">-Xarch_host &lt;arg&gt;</span></a> and <a class="reference internal" href="#xarch-device"><span class="std std-ref">-Xarch_device &lt;arg&gt;</span></a> can
pass an argument to the host and device compilation toolchain.</p>
</section>
<section id="xoffload-linker-triple-arg">
<h3><code class="docutils literal notranslate"><span class="pre">-Xoffload-linker&lt;triple&gt;</span> <span class="pre">&lt;arg&gt;</span></code><a class="headerlink" href="#xoffload-linker-triple-arg" title="Link to this heading">¶</a></h3>
<p>Pass an argument <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> to the offloading linker for the target specified in
<code class="docutils literal notranslate"><span class="pre">&lt;triple&gt;</span></code>.</p>
</section>
<section id="xarch-device-arg">
<span id="xarch-device"></span><h3><code class="docutils literal notranslate"><span class="pre">-Xarch_device</span> <span class="pre">&lt;arg&gt;</span></code><a class="headerlink" href="#xarch-device-arg" title="Link to this heading">¶</a></h3>
<p>Pass an argument <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> to the device compilation toolchain.</p>
</section>
<section id="xarch-host-arg">
<span id="xarch-host"></span><h3><code class="docutils literal notranslate"><span class="pre">-Xarch_host</span> <span class="pre">&lt;arg&gt;</span></code><a class="headerlink" href="#xarch-host-arg" title="Link to this heading">¶</a></h3>
<p>Pass an argument <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code> to the host compilation toolchain.</p>
</section>
<section id="foffload-lto-arg">
<h3><code class="docutils literal notranslate"><span class="pre">-foffload-lto[=&lt;arg&gt;]</span></code><a class="headerlink" href="#foffload-lto-arg" title="Link to this heading">¶</a></h3>
<p>Enable device link time optimization (LTO) and select the LTO mode <code class="docutils literal notranslate"><span class="pre">&lt;arg&gt;</span></code>.
Select either <code class="docutils literal notranslate"><span class="pre">-foffload-lto=thin</span></code> or <code class="docutils literal notranslate"><span class="pre">-foffload-lto=full</span></code>. Thin LTO takes
less time while still achieving some performance gains. If no argument is set,
this option defaults to <code class="docutils literal notranslate"><span class="pre">-foffload-lto=full</span></code>.</p>
</section>
<section id="fopenmp-offload-mandatory">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-offload-mandatory</span></code><a class="headerlink" href="#fopenmp-offload-mandatory" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">This option is set to avoid generating the host fallback code
executed when offloading to the device fails. That is
helpful when the target contains code that cannot be compiled for the host, for
instance, if it contains unguarded device intrinsics.</div>
<div class="line">This option can also be used to reduce compile time.</div>
<div class="line">This option should not be used when one wants to verify that the code is being
offloaded to the device. Instead, set the environment variable
<code class="docutils literal notranslate"><span class="pre">OMP_TARGET_OFFLOAD='MANDATORY'</span></code> to confirm that the code is being offloaded to
the device.</div>
</div>
</section>
<section id="fopenmp-target-debug-arg">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-target-debug[=&lt;arg&gt;]</span></code><a class="headerlink" href="#fopenmp-target-debug-arg" title="Link to this heading">¶</a></h3>
<p>Enable debugging in the device runtime library (RTL). Note that it is both
necessary to configure the debugging in the device runtime at compile-time with
<code class="docutils literal notranslate"><span class="pre">-fopenmp-target-debug=&lt;arg&gt;</span></code> and enable debugging at runtime with the
environment  variable <code class="docutils literal notranslate"><span class="pre">LIBOMPTARGET_DEVICE_RTL_DEBUG=&lt;arg&gt;</span></code>. Further, it is
currently only supported for Nvidia targets as of July 2023. Alternatively, the
environment variable <code class="docutils literal notranslate"><span class="pre">LIBOMPTARGET_DEBUG</span></code> can be set to debug both Nvidia and
AMD GPU targets. For more information, see the
<a class="reference external" href="https://openmp.llvm.org/design/Runtimes.html#debugging">debugging instructions</a>.
The debugging instructions list the supported debugging arguments.</p>
</section>
<section id="fopenmp-target-jit">
<h3><code class="docutils literal notranslate"><span class="pre">-fopenmp-target-jit</span></code><a class="headerlink" href="#fopenmp-target-jit" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Emit code that is Just-in-Time (JIT) compiled for OpenMP offloading. Embed
LLVM-IR for the device code in the object files rather than binary code for the
respective target. At runtime, the LLVM-IR is optimized again and compiled for
the target device. The optimization level can be set at runtime with
<code class="docutils literal notranslate"><span class="pre">LIBOMPTARGET_JIT_OPT_LEVEL</span></code>, for instance,
<code class="docutils literal notranslate"><span class="pre">LIBOMPTARGET_JIT_OPT_LEVEL=3</span></code> corresponding to optimizations level <code class="docutils literal notranslate"><span class="pre">-O3</span></code>.
See the
<a class="reference external" href="https://openmp.llvm.org/design/Runtimes.html#libomptarget-jit-pre-opt-ir-module">OpenMP JIT details</a>
for instructions on extracting the embedded device code before or after the
JIT and more.</div>
<div class="line">We want to emphasize that JIT for OpenMP offloading is good for debugging  as
the target IR can be extracted, modified, and injected at runtime.</div>
</div>
</section>
<section id="offload-new-driver">
<h3><code class="docutils literal notranslate"><span class="pre">--offload-new-driver</span></code><a class="headerlink" href="#offload-new-driver" title="Link to this heading">¶</a></h3>
<p>In upstream LLVM, OpenMP only uses the new driver. However, enabling this
option for experimental linking with CUDA or HIP files is necessary.</p>
</section>
<section id="offload-link">
<h3><code class="docutils literal notranslate"><span class="pre">--offload-link</span></code><a class="headerlink" href="#offload-link" title="Link to this heading">¶</a></h3>
<p>Use the new offloading linker <cite>clang-linker-wrapper</cite> to perform the link job.
<cite>clang-linker-wrapper</cite> is the default offloading linker for OpenMP. This option
can be used to use the new offloading linker in toolchains that do not automatically
use it. It is necessary to enable this option when linking with CUDA or HIP files.</p>
</section>
<section id="nogpulib">
<h3><code class="docutils literal notranslate"><span class="pre">-nogpulib</span></code><a class="headerlink" href="#nogpulib" title="Link to this heading">¶</a></h3>
<p>Do not link the device library for CUDA or HIP device compilation.</p>
</section>
<section id="nogpuinc">
<h3><code class="docutils literal notranslate"><span class="pre">-nogpuinc</span></code><a class="headerlink" href="#nogpuinc" title="Link to this heading">¶</a></h3>
<p>Do not include the default CUDA or HIP headers, and do not add CUDA or HIP
include paths.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">LLVM/OpenMP Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="design/Overview.html">OpenMP in LLVM — Design Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="openacc/Overview.html">OpenACC Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="optimizations/Overview.html">OpenMP Optimizations in LLVM</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="remarks/OptimizationRemarks.html">OpenMP Optimization Remarks</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">OpenMP Command-Line Argument Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SupportAndFAQ.html">Support, Getting Involved, and FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ReleaseNotes.html">In-Progress ReleaseNotes</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="index.html" title="LLVM OpenMP Documentation">HOME</a>
             |
            <a href="remarks/OMP190.html" title="Redundant barrier eliminated. (device only)"
              >previous</a> |
            <a href="SupportAndFAQ.html" title="Support, Getting Involved, and FAQ"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
    &#169; Copyright 2013-2025, LLVM/OpenMP.
      Last updated on 2025-08-13.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>