<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Remote Debugging" href="remote.html" /><link rel="prev" title="Symbolication" href="symbolication.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Symbols on macOS - üêõ LLDB</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">üêõ LLDB</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">üêõ LLDB</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Using LLDB</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="map.html">GDB to LLDB command map</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatting.html">Frame and Thread Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="variable.html">Variable Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolication.html">Symbolication</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Symbols on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote.html">Remote Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="intel_pt.html">Tracing with Intel Processor Trace</a></li>
<li class="toctree-l1"><a class="reference internal" href="ondemand.html">On Demand Symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="aarch64-linux.html">Using LLDB On AArch64 Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolfilejson.html">JSON Symbol File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcp.html">Model Context Protocol (MCP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../man/lldb.html">Man Page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scripting LLDB</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-reference.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_extensions.html">Python Extensions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing LLDB</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/build.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/test.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/qemu-testing.html">Testing LLDB using QEMU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/fuzzing.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/sbapi.html">Scripting Bridge API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/dataformatters.html">Data Formatters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/formatterbytecode.html">Formatter Bytecode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/extensions.html">DWARF Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/lldbgdbremote.html">GDB Remote Protocol Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/lldbplatformpackets.html">LLDB Platform Packets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/caveats.html">Caveats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/projects.html">Open Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/lldbdap.html">Contributing to LLDB-DAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/addinglanguagesupport.html">Adding Programming Language Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/cpp_reference/namespacelldb.html">Public C++ API</a></li>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/cpp_reference/index.html">Private C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/llvm/llvm-project">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/llvm/llvm-project/releases">Releases</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discord.gg/xS7Z362">Join the Discord</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discord.com/channels/636084430946959380/636732809708306432">Discord Channel</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discourse.llvm.org/c/subprojects/lldb/8">Discussion Forums</a></li>
<li class="toctree-l1"><a class="reference external" href="https://llvm.org/docs/DeveloperPolicy.html">Developer Policy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/llvm/llvm-project/issues?q=is%3Aissue+label%3Alldb+is%3Aopen">Bug Reports</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/llvm/llvm-project/pulls?q=is%3Apr+label%3Alldb+is%3Aopen">Code Reviews</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/llvm/llvm-project/edit/main/lldb/docs/use/symbols.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="symbols-on-macos">
<h1>Symbols on macOS<a class="headerlink" href="#symbols-on-macos" title="Link to this heading">#</a></h1>
<p>On macOS, debug symbols are often in stand alone bundles called <strong>dSYM</strong> files.
These are bundles that contain DWARF debug information and other resources
related to builds and debug info.</p>
<p>The DebugSymbols.framework framework helps locate dSYM files when given a UUID.
It can locate the symbols using a variety of methods:</p>
<ul class="simple">
<li><p>Spotlight</p></li>
<li><p>Explicit search paths</p></li>
<li><p>Implicit search paths</p></li>
<li><p>File mapped UUID paths</p></li>
<li><p>Running one or more shell scripts</p></li>
</ul>
<p>DebugSymbols.framework also has global defaults that can be modified to allow
all of the debug tools (lldb, gdb, sample, CoreSymbolication.framework) to
easily find important debug symbols. The domain for the DebugSymbols.framework
defaults is <strong>com.apple.DebugSymbols</strong>, and the defaults can be read, written
or modified using the <strong>defaults</strong> shell command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">defaults</span> <span class="n">read</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">KEY</span> <span class="o">...</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">delete</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">KEY</span>
</pre></div>
</div>
<p>The following is a list of the defaults key value setting pairs that can
be used to enhance symbol location:</p>
<p><strong>DBGFileMappedPaths</strong></p>
<p>This default can be specified as a single string, or an array of
strings. Each string represents a directory that contains file mapped
UUID values that point to dSYM files. See the ‚ÄúFile Mapped UUID
Directories‚Äù section below for more details. Whenever
DebugSymbols.framework is asked to lookup a dSYM file, it will first
look in any file mapped UUID directories for a quick match.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGFileMappedPaths</span> <span class="o">-</span><span class="n">string</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">uuidmap1</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGFileMappedPaths</span> <span class="o">-</span><span class="n">array</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">uuidmap1</span>
    <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">uuidmap2</span>
</pre></div>
</div>
<p><strong>DBGShellCommands</strong></p>
<p>This default can be specified as a single string, or an array of
strings. Specifies a shell script that will get run in order to find the
dSYM. The shell script will be run given a single UUID value as the
shell command arguments and the shell command is expected to return a
property list. See the property list format defined below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGShellCommands</span> <span class="o">-</span><span class="n">string</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">script1</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGShellCommands</span> <span class="o">-</span><span class="n">array</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">script1</span>
    <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">script2</span>
</pre></div>
</div>
<p><strong>DBGSpotlightPaths</strong></p>
<p>Specifies the directories to limit spotlight searches to as a string or
array of strings. When any other defaults are supplied to
<strong>com.apple.DebugSymbols</strong>, spotlight searches will be disabled unless
this default is set to an empty array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify an empty array to keep Spotlight searches enabled in all locations</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGSpotlightPaths</span> <span class="o">-</span><span class="n">array</span>

<span class="c1"># Specify an array of paths to limit spotlight searches to certain directories</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGSpotlightPaths</span> <span class="o">-</span><span class="n">array</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">dir1</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">dir2</span>
</pre></div>
</div>
<section id="shell-script-property-list-format">
<h2>Shell Script Property List Format<a class="headerlink" href="#shell-script-property-list-format" title="Link to this heading">#</a></h2>
<p>Shell scripts that are specified with the <strong>DBGShellCommands</strong> defaults key
will be run in the order in which they are specified until a match is found.
The shell script will be invoked with a single UUID string value like
‚Äú23516BE4-29BE-350C-91C9-F36E7999F0F1‚Äù. The shell script must respond with a
property list being written to STDOUT. The property list returned must contain
UUID string values as the root key values, with a dictionary for each UUID. The
dictionaries can contain one or more of the following keys:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Key</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><strong>DBGArchitecture</strong></p></td>
<td><p>A textual architecture or target
triple like ‚Äúx86_64‚Äù, ‚Äúi386‚Äù, or
‚Äúx86_64-apple-macosx‚Äù.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>DBGBuildSourcePath</strong></p></td>
<td><p>A path prefix that was used when
building the dSYM file. The debug
information will contain paths
with this prefix.</p></td>
</tr>
<tr class="row-even"><td><p><strong>DBGSourcePath</strong></p></td>
<td><p>A path prefix for where the
sources exist after the build has
completed. Often when building
projects, build machines will
host the sources in a temporary
directory while building, then
move the sources to another
location for archiving. If the
paths in the debug info don‚Äôt
match where the sources are
currently hosted, then specifying
this path along with the
<strong>DBGBuildSourcePath</strong> will help
the developer tools always show
you sources when debugging or
symbolicating.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>DBGDSYMPath</strong></p></td>
<td><p>A path to the dSYM mach-o file
inside the dSYM bundle.</p></td>
</tr>
<tr class="row-even"><td><p><strong>DBGSymbolRichExecutable</strong></p></td>
<td><p>A path to the symbol rich
executable. Binaries are often
stripped after being built and
packaged into a release. If your
build systems saves an unstripped
executable a path to this
executable can be provided.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>DBGError</strong></p></td>
<td><p>If a binary can not be located
for the supplied UUID, a user
readable error can be returned.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Below is a sample shell script output for a binary that contains two
architectures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;key&gt;23516BE4-29BE-350C-91C9-F36E7999F0F1&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;DBGArchitecture&lt;/key&gt;
        &lt;string&gt;i386&lt;/string&gt;
        &lt;key&gt;DBGBuildSourcePath&lt;/key&gt;
        &lt;string&gt;/path/to/build/sources&lt;/string&gt;
        &lt;key&gt;DBGSourcePath&lt;/key&gt;
        &lt;string&gt;/path/to/actual/sources&lt;/string&gt;
        &lt;key&gt;DBGDSYMPath&lt;/key&gt;
        &lt;string&gt;/path/to/foo.dSYM/Contents/Resources/DWARF/foo&lt;/string&gt;
        &lt;key&gt;DBGSymbolRichExecutable&lt;/key&gt;
        &lt;string&gt;/path/to/unstripped/executable&lt;/string&gt;
    &lt;/dict&gt;
    &lt;key&gt;A40597AA-5529-3337-8C09-D8A014EB1578&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;DBGArchitecture&lt;/key&gt;
        &lt;string&gt;x86_64&lt;/string&gt;
        &lt;key&gt;DBGBuildSourcePath&lt;/key&gt;
        &lt;string&gt;/path/to/build/sources&lt;/string&gt;
        &lt;key&gt;DBGSourcePath&lt;/key&gt;
        &lt;string&gt;/path/to/actual/sources&lt;/string&gt;
        &lt;key&gt;DBGDSYMPath&lt;/key&gt;
        &lt;string&gt;/path/to/foo.dSYM/Contents/Resources/DWARF/foo&lt;/string&gt;
        &lt;key&gt;DBGSymbolRichExecutable&lt;/key&gt;
        &lt;string&gt;/path/to/unstripped/executable&lt;/string&gt;
    &lt;/dict&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</pre></div>
</div>
<p>There is no timeout imposed on a shell script when is it asked to locate a dSYM
file, so be careful to not make a shell script that has high latency or takes a
long time to download unless this is really what you want. This can slow down
debug sessions in LLDB and GDB, symbolication with CoreSymbolication or Report
Crash, with no visible feedback to the user. You can quickly return a plist
with a single <strong>DBGError</strong> key that indicates a timeout has been reached. You
might also want to exec new processes to do the downloads so that if you return
an error that indicates a timeout, your download can still proceed after your
shell script has exited so subsequent debug sessions can use the cached files.
It is also important to track when a current download is in progress in case
you get multiple requests for the same UUID so that you don‚Äôt end up
downloading the same file simultaneously. Also you will want to verify the
download was successful and then and only then place the file into the cache
for tools that will cache files locally.</p>
</section>
<section id="embedding-uuid-property-lists-inside-the-dsym-bundles">
<h2>Embedding UUID property lists inside the dSYM bundles<a class="headerlink" href="#embedding-uuid-property-lists-inside-the-dsym-bundles" title="Link to this heading">#</a></h2>
<p>Since dSYM files are bundles, you can also place UUID info plists files inside
your dSYM bundles in the <strong>Contents/Resources</strong> directory. One of the main
reasons to create the UUID plists inside the dSYM bundles is that it will help
LLDB and other developer tools show you source. LLDB currently knows how to
check for these plist files so it can automatically remap the source location
information in the debug info.</p>
<p>If we take the two UUID values from the returns plist above, we can split them
out and save then in the dSYM bundle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>% ls /path/to/foo.dSYM/Contents/Resources
23516BE4-29BE-350C-91C9-F36E7999F0F1.plist
A40597AA-5529-3337-8C09-D8A014EB1578.plist

% cat /path/to/foo.dSYM/Contents/Resources/23516BE4-29BE-350C-91C9-F36E7999F0F1.plist
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
   &lt;key&gt;DBGArchitecture&lt;/key&gt;
   &lt;string&gt;i386&lt;/string&gt;
   &lt;key&gt;DBGBuildSourcePath&lt;/key&gt;
   &lt;string&gt;/path/to/build/sources&lt;/string&gt;
   &lt;key&gt;DBGSourcePath&lt;/key&gt;
   &lt;string&gt;/path/to/actual/sources&lt;/string&gt;
   &lt;key&gt;DBGDSYMPath&lt;/key&gt;
   &lt;string&gt;/path/to/foo.dSYM/Contents/Resources/DWARF/foo&lt;/string&gt;
   &lt;key&gt;DBGSymbolRichExecutable&lt;/key&gt;
   &lt;string&gt;/path/to/unstripped/executable&lt;/string&gt;
   &lt;key&gt;DBGVersion&lt;/key&gt;
   &lt;string&gt;3&lt;/string&gt;
   &lt;key&gt;DBGSourcePathRemapping&lt;/key&gt;
   &lt;dict&gt;
       &lt;key&gt;/path/to/build/time/src/location1&lt;/key&gt;
       &lt;string&gt;/path/to/debug/time/src/location&lt;/string&gt;
       &lt;key&gt;/path/to/build/time/src/location2&lt;/key&gt;
       &lt;string&gt;/path/to/debug/time/src/location&lt;/string&gt;
   &lt;/dict&gt;
   &lt;key&gt;DBGSymbolRichExecutable&lt;/key&gt;
   &lt;string&gt;/path/to/unstripped/executable&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</pre></div>
</div>
<p>Note that the output is very close to what is needed by shell script output, so
making the results of your shell script will be very easy to create by
combining two plists into a single one where you take the UUID and use it a
string key, and the value is the contents of the plist.</p>
<p>LLDB will read the following entries from the per-UUID plist file in the dSYM
bundle: <strong>DBGSymbolRichExecutable</strong>, <strong>DBGBuildSourcePath</strong> and
<strong>DBGSourcePath</strong>, and <strong>DBGSourcePathRemapping</strong> if <strong>DBGVersion</strong> is 3 or
higher. <strong>DBGBuildSourcePath</strong> and <strong>DBGSourcePath</strong> are for remapping a single
file path. For instance, the files may be in /BuildDir/SheetApp/SheetApp-37
when built, but they are in /SourceDir/SheetApp/SheetApp-37 at debug time,
those two paths could be listed in those keys. If there are multiple source
path remappings, the <strong>DBGSourcePathRemapping</strong> dictionary can be used, where
an arbitrary number of entries may be present. <strong>DBGVersion</strong> should be 3 or
<strong>DBGSourcePathRemapping</strong> will not be read. If both <strong>DBGSourcePathRemapping</strong>
AND <strong>DBGBuildSourcePath</strong>/<strong>DBGSourcePath</strong> are present in the plist, the
<strong>DBGSourcePathRemapping</strong> entries will be used for path remapping first. This
may allow for more specific remappings in the <strong>DBGSourcePathRemapping</strong>
dictionary and a less specific remapping in the
<strong>DBGBuildSourcePath</strong>/<strong>DBGSourcePath</strong> pair as a last resort.</p>
</section>
<section id="file-mapped-uuid-directories">
<h2>File Mapped UUID Directories<a class="headerlink" href="#file-mapped-uuid-directories" title="Link to this heading">#</a></h2>
<p>File Mapped directories can be used for efficient dSYM file lookups for local
or remote dSYM files. The UUID is broken up by splitting the first 20 hex
digits into 4 character chunks, and a directory is created for each chunk, and
each subsequent directory is created inside the previous one. A symlink is then
created whose name is the last 12 hex digits in the deepest directory. The
symlinks value is a full path to the mach-o files inside the dSYM bundle which
contains the DWARF. Whenever DebugSymbols.framework is asked to lookup a dSYM
file, it will first look in any file mapped UUID directories for a quick match
if the defaults are appropriately set.</p>
<p>For example, if we take the sample UUID plist information from above, we can
create a File Mapped UUID directory cache in
<strong>~/Library/SymbolCache/dsyms/uuids</strong>. We can easily see how things are laid
out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">find</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span> <span class="o">-</span><span class="nb">type</span> <span class="n">l</span>
<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span><span class="o">/</span><span class="mi">2351</span><span class="o">/</span><span class="mi">6</span><span class="n">BE4</span><span class="o">/</span><span class="mi">29</span><span class="n">BE</span><span class="o">/</span><span class="mi">350</span><span class="n">C</span><span class="o">/</span><span class="mi">91</span><span class="n">C9</span><span class="o">/</span><span class="n">F36E7999F0F1</span>
<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span><span class="o">/</span><span class="n">A405</span><span class="o">/</span><span class="mi">97</span><span class="n">AA</span><span class="o">/</span><span class="mi">5529</span><span class="o">/</span><span class="mi">3337</span><span class="o">/</span><span class="mi">8</span><span class="n">C09</span><span class="o">/</span><span class="n">D8A014EB1578</span>
</pre></div>
</div>
<p>The last entries in these file mapped directories are symlinks to the actual
dsym mach file in the dsym bundle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">ls</span> <span class="o">-</span><span class="n">lAF</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span><span class="o">/</span><span class="mi">2351</span><span class="o">/</span><span class="mi">6</span><span class="n">BE4</span><span class="o">/</span><span class="mi">29</span><span class="n">BE</span><span class="o">/</span><span class="mi">350</span><span class="n">C</span><span class="o">/</span><span class="mi">91</span><span class="n">C9</span><span class="o">/</span><span class="n">F36E7999F0F1</span>
<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span><span class="o">/</span><span class="mi">2351</span><span class="o">/</span><span class="mi">6</span><span class="n">BE4</span><span class="o">/</span><span class="mi">29</span><span class="n">BE</span><span class="o">/</span><span class="mi">350</span><span class="n">C</span><span class="o">/</span><span class="mi">91</span><span class="n">C9</span><span class="o">/</span><span class="n">F36E7999F0F1</span><span class="o">@</span> <span class="o">-&gt;</span> <span class="o">../../../../../../</span><span class="n">dsyms</span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="n">dSYM</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Resources</span><span class="o">/</span><span class="n">DWARF</span><span class="o">/</span><span class="n">foo</span>
</pre></div>
</div>
<p>Then you can also tell DebugSymbols to check this UUID file map cache using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGFileMappedPaths</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span>
</pre></div>
</div>
</section>
<section id="dsym-locating-shell-script-tips">
<h2>dSYM Locating Shell Script Tips<a class="headerlink" href="#dsym-locating-shell-script-tips" title="Link to this heading">#</a></h2>
<p>One possible implementation of a dSYM finding shell script is to have the
script download and cache files locally in a known location. Then create a UUID
map for each UUID value that was found in a local UUID File Map cache so the
next query for the dSYM file will be able to use the cached version. So the
shell script is used to initially download and cache the file, and subsequent
accesses will use the cache and avoid calling the shell script.</p>
<p>Then the defaults for DebugSymbols.framework will entail enabling your shell
script, enabling the file mapped path setting so that already downloaded dSYMS
fill quickly be found without needing to run the shell script every time, and
also leaving spotlight enabled so that other normal dSYM files are still found:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGShellCommands</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">shellscript</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGFileMappedPaths</span> <span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">SymbolCache</span><span class="o">/</span><span class="n">dsyms</span><span class="o">/</span><span class="n">uuids</span>
<span class="o">%</span> <span class="n">defaults</span> <span class="n">write</span> <span class="n">com</span><span class="o">.</span><span class="n">apple</span><span class="o">.</span><span class="n">DebugSymbols</span> <span class="n">DBGSpotlightPaths</span> <span class="o">-</span><span class="n">array</span>
</pre></div>
</div>
<p>Hopefully this helps explain how DebugSymbols.framework can help any company
implement a smart symbol finding and caching with minimal overhead.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="remote.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Remote Debugging</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="symbolication.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Symbolication</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2007-2025, The LLDB Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Aug 13, 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Symbols on macOS</a><ul>
<li><a class="reference internal" href="#shell-script-property-list-format">Shell Script Property List Format</a></li>
<li><a class="reference internal" href="#embedding-uuid-property-lists-inside-the-dsym-bundles">Embedding UUID property lists inside the dSYM bundles</a></li>
<li><a class="reference internal" href="#file-mapped-uuid-directories">File Mapped UUID Directories</a></li>
<li><a class="reference internal" href="#dsym-locating-shell-script-tips">dSYM Locating Shell Script Tips</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>